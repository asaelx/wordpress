"use strict";!function(h){function e(){var t=h(".merchant-flexible-content-control.volume-discounts-style").find(".layout.active"),e=t.find(".merchant-field-table_title input").val(),n=t.find(".merchant-field-title_text_color input").val(),c=t.find(".merchant-field-title_font_size input").val(),i=t.find(".merchant-field-title_font_weight select").val(),l=t.find(".merchant-field-table_item_bg_color input").val(),o=t.find(".merchant-field-table_item_border_color input").val(),a=t.find(".merchant-field-table_item_text_color input").val(),r=t.find(".merchant-field-table_label_bg_color input").val(),u=t.find(".merchant-field-table_label_text_color input").val(),d=t.find(".merchant-field-discount_type input:checked").val(),s=+t.find(".merchant-field-discount input").val(),f=t.find(".merchant-field-save_label input").val(),m=t.find(".merchant-field-buy_text input").val(),t=+t.find(".merchant-field-quantity input").val(),n=(h(".merchant-volume-discounts-title").css({color:n,"font-size":c+"px","font-weight":i}).html(e),h(".merchant-volume-discounts-item").css({"border-color":o,"background-color":l,color:a}),h(".merchant-volume-discounts-item-label")),c=h(".merchant-volume-discounts-buy-label"),i=(n.find("span:first").css({"background-color":r,color:u}),n.closest(".mrc-preview-right-column").attr("data-currency")),e="fixed_discount"===d?"".concat(i).concat(s):"".concat(s,"%"),o="fixed_discount"===d?"".concat(i).concat(s*t):"".concat(s,"%"),f=f.replace(/{amount}|{percent}/g,o);n.find("span:first").text(f),m=m.replace(/{discount}|{percent}/g,"<strong>".concat(e,"</strong>")).replace(/{quantity}|{amount}/g,"<strong>".concat(t,"</strong>")),c.html(m)}h(document).on("click",".merchant-flexible-content-control.volume-discounts-style .layout",function(){var t=h(this);t.closest(".merchant-flexible-content-control.volume-discounts-style").find(".layout").removeClass("active"),t.addClass("active"),e()}),h(document).on("change.merchant keyup",function(){e()}),h(".merchant-flexible-content-control.volume-discounts-style .layout:first-child").addClass("active").trigger("click"),h(document).on("change",'input[type="radio"]',function(){var n=h(this).val();"percentage_discount"!==n&&"fixed_discount"!==n||h(this).closest(".layout").find('input[type="text"], textarea').each(function(){var t="percentage_discount"===n?"{percent}":"{amount}",e=h(this).val(),e=(h(this).attr("name").includes("buy_text")&&(t="{quantity}"),e.replace(/{amount}|{percent}/g,t));h(this).val(e)})})}(jQuery);